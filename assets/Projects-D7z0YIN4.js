import{u as j,r as l,j as t}from"./vendor-DCyOnp4C.js";function w(){const{t:r}=j(),i=1e3*60*60,n="my_portfolio_repos",[d,p]=l.useState(()=>{const e=localStorage.getItem(n);if(e){const{data:s,timestamp:c}=JSON.parse(e);if(new Date().getTime()-c<i)return s}return[]}),[m,g]=l.useState(()=>{const e=localStorage.getItem(n);if(e){const{timestamp:s}=JSON.parse(e);if(new Date().getTime()-s<i)return!1}return!0});return l.useEffect(()=>{(async()=>{const s=localStorage.getItem(n),c=new Date().getTime();if(s){const{timestamp:a}=JSON.parse(s);if(c-a<i){console.log("Usando cache do GitHub (fresco)");return}}console.log("Cache expirado ou inexistente. Buscando no GitHub...");try{const o=await(await fetch("https://api.github.com/users/LuigiRicardo/repos")).json();o.sort((h,f)=>new Date(f.pushed_at)-new Date(h.pushed_at)),p(o),g(!1);const u={data:o,timestamp:new Date().getTime()};localStorage.setItem(n,JSON.stringify(u))}catch(a){if(console.error("Erro ao buscar repositórios:",a),s){const{data:o}=JSON.parse(s);p(o)}g(!1)}})()},[]),t.jsxs("div",{className:"section active",children:[t.jsx("h2",{children:r("projects.title")}),m?t.jsx("p",{className:"loading",children:r("projects.loading")}):t.jsx("div",{className:"projects-grid",children:Array.isArray(d)&&d.map(e=>t.jsxs("div",{className:"project-card",children:[t.jsx("h3",{children:e.name}),t.jsx("p",{children:e.description||"Sem descrição definida."}),e.language&&t.jsx("span",{className:"language-tag",children:e.language}),t.jsxs("div",{className:"project-links",children:[t.jsx("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer",children:r("projects.view_code")}),e.homepage&&t.jsx("a",{href:e.homepage,target:"_blank",rel:"noopener noreferrer",children:r("projects.demo")})]})]},e.id))})]})}export{w as default};
